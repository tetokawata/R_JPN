# 比較・因果推論

- Chapter \@ref(unique)-\@ref(panel) の背後にある問題意識・方針を紹介

## 比較

### 問題設定

- 条件付きの比較：変数$D_i$の値が異なる集団間において、結果変数$Y_i$の分布がどの程度異なっているのか、推定する。
その際に、直接的な関心ではない変数群$X_i$を”一定”とする。

- 以下の議論では$Y_i$の平均値に焦点を当て、$E[Y_i|D_i=d,X_i]-E[Y_i|D_i=d',X_i]$の推定を目指す。
またこの際に点推定量のみならず、信頼区間の推定も行います。

### 推定上の問題

- 重回帰は、依然として広く用いられている。とくに”正しい”回帰モデルの定式化が難しい社会科学分野において、重回帰の推定目標を条件付き平均値の線形近似と見做す"Agnostic view" [@angrist2002covariance;@angrist2008mostly]は、重回帰を利用する説得的な理由となっている。
しかしながら以下のような場合、深刻な問題が生じることが知られている。

1. 異なる$D$グループ間で、$X$の分布が異なる。
  
2. 多数の$X$について、条件づける。

- 1の問題を緩和するために、推定の前処理としてマッチングを行うことが有力な方法となる。
  
- 2の問題については、伝統的なマッチングの手法の有効性は失われる。
この問題を回避するためにChapter \@ref(general) では、LASSOやRandom Forestなどの予測手法の応用を紹介する。

  - なお$X$が少数であったとしても、定式化の自由度（高次項や交差項の導入）を持たせた場合、同様の問題が生じうる。

## 因果効果

### 問題設定

- ある集団の変数$D$を変化させた場合、結果変数$Y$の分布がどのように変化するのか、因果効果を推定する。

- 潜在結果モデルを用いて定義する

  - $Y_i(d)$: 回答者$i$の原因変数が$d$であったときの結果変数値
  
  - $Y_i(d)-Y_i(d')$: 原因変数が$d'$から$d$に変化することの個人因果効果

### 識別の問題

- 因果効果を推定する際には、識別を議論する必要がある。

  - 識別：「仮にサンプルサイズが無限大である」場合、どのような仮定の下で因果効果を推定できるか？
  
- Chapter \@ref(unique) - \@ref(hetero)では以下の仮定に基づき議論していきます。

  - $0<\Pr[D_i=d|X_i]<1$: サブグループにおいても、原因変数の値にバリエーションが存在する。
  
  - ある個人の結果変数は、他者の原因変数の値に依存しない
  
  - 均一のグループ内では、$D$の値がランダムに決定されている）

- 以上の仮定のもとで$D$の因果効果は、$E[Y|D=d,X]-E[Y|D=d',X]$によって識別できる。

- 代替的な識別条件も複数存在

  - Chapter \@ref(RD) ：局所的な疑似的ランダム化
  
  - Chapter \@ref(panel)　：平行トレンド

### 推定の問題

- 識別条件はしばしば多数の$X$について、条件づけた平均差の推定を要求される
このような状況では比較の問題と同様に、機械学習の応用が有益となる。





